{% extends "header.html" %}
{% load bootstrap3 %}

{% block title %}WINDOWS NODES{% endblock %}
{% block content %}
    {% if winnodes %}

    <table width="90%" class="table" border="1">
        <tr>
            <td>winnode</td>
            <td>environment</td>
            <td>vcenter <br>
                            <ul>
            {% for status in report|get_item:"vcenter" %}
                <li>{{ status }} :
                    {{ report|get_item:"vcenter"|get_item:status }}</li>
            {% endfor %}
                </ul>
        </td>
            <td>updated</td>
            <td>java<br>
                <ul>
            {% for status in report|get_item:"java_version" %}
                <li>{{ status }} :
                    {{ report|get_item:"java_version"|get_item:status }}</li>
            {% endfor %}
                </ul></td>
            <td>python</td>
            <td>chrome</td>
            <td>chromedriver</td>
            <td>firefox</td>
            <td>gecko</td>
            <td>selenium</td>
            <td>win_license<br>
                <ul>
            {% for status in report|get_item:"windows_activated" %}
                <li>{{ status }} :
                    {{ report|get_item:"windows_activated"|get_item:status }}</li>
            {% endfor %}
                </ul>
            </td>

        </tr>
        {% for node in  winnodes %}

        <tr>
            <td>
                {{ node }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"winenv" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"vcenter" }}
            </td>
            {% if winnodes|get_item:node|get_item:"updated"|get_item:"status" == 1 %}
            <td bgcolor="greenyellow">
                {% elif winnodes|get_item:node|get_item:"updated"|get_item:"status" == 2 %}
            <td bgcolor="khaki">
                {% elif winnodes|get_item:node|get_item:"updated"|get_item:"status" == 3 %}
            <td bgcolor="lightpink">
            {% endif %}
                {{ winnodes|get_item:node|get_item:"updated"|get_item:"date" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"java_version" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"python_version" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"chrome_version" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"chromedriver_version" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"firefox_version" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"gecko_version" }}
            </td>
            <td>
                {{ winnodes|get_item:node|get_item:"selenium_version" }}
            </td>
            {% if winnodes|get_item:node|get_item:"windows_activated"|get_item:"status" == 1 %}
            <td bgcolor="greenyellow">
                {% elif winnodes|get_item:node|get_item:"windows_activated"|get_item:"status" == 2 %}
            <td bgcolor="khaki">
                {% elif winnodes|get_item:node|get_item:"windows_activated"|get_item:"status" == 3 %}
            <td bgcolor="lightpink">
            {% endif %}
                {{ winnodes|get_item:node|get_item:"windows_activated"|get_item:"message" }}
            </td>
        </tr>
                {% endfor %}
    </table>


    {% else %}
      <p>There are no windows nodes in the inventory.</p>
    {% endif %}
{% endblock %}
